{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n// import { hideLoader, renderTemplate, showLoader } from './render-functions';\n// import iziToast from 'izitoast';\n\nconst galleryEl = document.querySelector('.gallery');\n\n// export function fetchImages(request) {\n//   const { url, key, q, image_type, orientation, safesearch } = request;\n\n//   return fetch(\n//     `${url}?key=${key}&q=${q}&image_type=${image_type}&orientation=${orientation}&safesearch=${safesearch}`\n//   )\n//     .then(response => {\n//       if (!response.ok) {\n//         throw new Error(response.status);\n//       }\n//       return response.json();\n//     })\n//     .then(data => {\n//       if (data.total === 0) {\n//         galleryEl.innerHTML = '';\n//         iziToast.show({\n//           position: 'topRight',\n//           color: 'red',\n//           message:\n//             'Sorry, there are no images matching your search query. Please try again!',\n//         });\n//       } else {\n//         renderTemplate(data);\n//\n//       }\n//     })\n//     .catch(error => {\n//       throw error;\n//     })\n//     .finally(() => hideLoader());\n// }\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nexport const axiosImages = async params => {\n  try {\n    const response = await axios.get('', { params });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n};\n","import 'simplelightbox/dist/simple-lightbox.min.css';\nimport SimpleLightbox from 'simplelightbox';\n\nconst loaderEl = document.querySelector('.loader');\n\nconst galleryEl = document.querySelector('.gallery');\nlet lightbox;\n\nexport function renderTemplate(data) {\n  const done = data.hits\n\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <li class=\"card\">\n      <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n      </a>\n      <ul class=\"description\">\n        <li><p>Likes</p><span>${likes}</span></li>\n        <li><p>View</p><span>${views}</span></li>\n        <li><p>Comments</p><span>${comments}</span></li>\n        <li><p>Download</p><span>${downloads}</span></li>\n      </ul>\n    </li>\n  `\n    )\n    .join('');\n\n  galleryEl.insertAdjacentHTML('beforeend', done);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt' });\n  } else {\n    lightbox.refresh();\n  }\n}\nexport function hideLoader() {\n  loaderEl.style.display = 'none';\n}\nexport function showLoader() {\n  loaderEl.style.display = 'block';\n}\n","import { axiosImages } from './js/pixabay-api';\nimport { hideLoader, renderTemplate, showLoader } from './js/render-functions';\n\nconst formEl = document.querySelector('.form');\nconst inputFieldEl = document.querySelector('.inputFild');\nconst btnSearchImgEl = document.querySelector('.btnSearchImg');\nconst btnLoadMoreEl = document.querySelector('.btnLoadMore');\n\nbtnSearchImgEl.disabled = true;\nlet page = 1;\n\nhideLoader();\nconst params = {\n  key: '52935594-c28acfca0b14dad36f3e3eac1',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  per_page: 3,\n  page: page,\n};\n\nlet searchImg = '';\ninputFieldEl.addEventListener('input', event => {\n  searchImg = event.target.value.trim();\n  if (searchImg === '') {\n    btnSearchImgEl.disabled = true;\n    return;\n  }\n  btnSearchImgEl.disabled = false;\n  params.q = searchImg;\n});\nformEl.addEventListener('click', event => {\n  event.preventDefault();\n\n  if (searchImg === '') {\n    btnSearchImgEl.disabled = true;\n    console.log('Enetr some text!');\n    return;\n  }\n\n  showLoader();\n  axiosImages(params)\n    .then(data => {\n      console.log('Images:', data);\n      renderTemplate(data);\n      hideLoader();\n      btnLoadMoreEl.classList.remove('active');\n    })\n    .catch(error => {\n      console.error('Failed to load images:', error);\n    });\n});\nbtnLoadMoreEl.addEventListener('click', () => {\n  params.page += 1;\n  console.log('page', params.page);\n  axiosImages(params)\n    .then(data => {\n      console.log('Images:', data);\n      renderTemplate(data);\n      hideLoader();\n      btnLoadMoreEl.classList.remove('active');\n    })\n    .catch(error => {\n      console.error('Failed to load images:', error);\n    });\n});\n"],"names":["axios","axiosImages","params","error","loaderEl","galleryEl","lightbox","renderTemplate","data","done","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","hideLoader","showLoader","formEl","inputFieldEl","btnSearchImgEl","btnLoadMoreEl","page","searchImg","event"],"mappings":"6vBAIkB,SAAS,cAAc,UAAU,EAiCnDA,EAAM,SAAS,QAAU,2BAClB,MAAMC,EAAc,MAAMC,GAAU,CACzC,GAAI,CAEF,OADiB,MAAMF,EAAM,IAAI,GAAI,CAAE,OAAAE,CAAM,CAAE,GAC/B,IACjB,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,EC3CMC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAY,SAAS,cAAc,UAAU,EACnD,IAAIC,EAEG,SAASC,EAAeC,EAAM,CACnC,MAAMC,EAAOD,EAAK,KAEf,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,iBAEKL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,gCAGdC,CAAK;AAAA,+BACNC,CAAK;AAAA,mCACDC,CAAQ;AAAA,mCACRC,CAAS;AAAA;AAAA;AAAA,GAIvC,EACA,KAAK,EAAE,EAEVX,EAAU,mBAAmB,YAAaI,CAAI,EAEzCH,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIW,EAAe,aAAc,CAAE,aAAc,KAAK,CAAE,CAIvE,CACO,SAASC,GAAa,CAC3Bd,EAAS,MAAM,QAAU,MAC3B,CACO,SAASe,GAAa,CAC3Bf,EAAS,MAAM,QAAU,OAC3B,CC9CA,MAAMgB,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAe,SAAS,cAAc,YAAY,EAClDC,EAAiB,SAAS,cAAc,eAAe,EACvDC,EAAgB,SAAS,cAAc,cAAc,EAE3DD,EAAe,SAAW,GAC1B,IAAIE,EAAO,EAEXN,IACA,MAAMhB,EAAS,CACb,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACV,KAAMsB,CACR,EAEA,IAAIC,EAAY,GAChBJ,EAAa,iBAAiB,QAASK,GAAS,CAE9C,GADAD,EAAYC,EAAM,OAAO,MAAM,KAAI,EAC/BD,IAAc,GAAI,CACpBH,EAAe,SAAW,GAC1B,MACD,CACDA,EAAe,SAAW,GAC1BpB,EAAO,EAAIuB,CACb,CAAC,EACDL,EAAO,iBAAiB,QAASM,GAAS,CAGxC,GAFAA,EAAM,eAAc,EAEhBD,IAAc,GAAI,CACpBH,EAAe,SAAW,GAC1B,QAAQ,IAAI,kBAAkB,EAC9B,MACD,CAEDH,IACAlB,EAAYC,CAAM,EACf,KAAKM,GAAQ,CACZ,QAAQ,IAAI,UAAWA,CAAI,EAC3BD,EAAeC,CAAI,EACnBU,IACAK,EAAc,UAAU,OAAO,QAAQ,CAC7C,CAAK,EACA,MAAMpB,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CACnD,CAAK,CACL,CAAC,EACDoB,EAAc,iBAAiB,QAAS,IAAM,CAC5CrB,EAAO,MAAQ,EACf,QAAQ,IAAI,OAAQA,EAAO,IAAI,EAC/BD,EAAYC,CAAM,EACf,KAAKM,GAAQ,CACZ,QAAQ,IAAI,UAAWA,CAAI,EAC3BD,EAAeC,CAAI,EACnBU,IACAK,EAAc,UAAU,OAAO,QAAQ,CAC7C,CAAK,EACA,MAAMpB,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CACnD,CAAK,CACL,CAAC"}